"use strict";!function(){angular.module("searchPlayground").controller("ChromeController",function($scope,pubsubSystem,$timeout,$state,$interval,$http,$uibModal){$scope.step=0,$scope.masterStep=0,$scope.crumbs=[],$scope.loaded=!1,$scope.currentLog=null,$scope.showTooltips=!1;var firstLog=!0;pubsubSystem.subscribe("log",function(json){$scope.currentLog=json,firstLog&&(firstLog=!1,$scope.showTooltips=!0,$timeout(function(){$scope.showTooltips=!1},3e3)),$scope.$apply()}),pubsubSystem.subscribe("masterStep",function(step){$scope.masterStep=step,$scope.$apply()});var states=$state.get();$scope.next=function($event){null!==$event&&$event.preventDefault(),firstLog=!0,$scope.currentLog=null,$scope.step=$scope.step+1;var nextState=states[$scope.step].name;$scope.crumbs.push(nextState),$state.go(nextState)},$scope.prev=function($event){null!==$event&&$event.preventDefault(),firstLog=!0,$scope.currentLog=null,$scope.step=$scope.step-1;var nextState=states[$scope.step].name;$scope.crumbs.pop(),$state.go(nextState)},$state.go(states[1].name);var start=function(){$timeout(function(){$scope.loaded=!0,$scope.next(null)},2e3)},modalInstance=$uibModal.open({templateUrl:"modalTwitter.html",controller:"ModalTwitterController"});modalInstance.result.then(start,start),$interval(function(){$http({method:"GET",url:"/master/GetCurrent"}).then(function(response){},function(){})},1e5)}).controller("ModalTwitterController",function($scope,$uibModalInstance,$http){$scope.loading=!1,$scope.account="",$scope.ok=function(){$scope.loading=!0,$http({method:"POST",url:"/master/twitter",params:{account:$scope.account}}).then(function(response){$scope.loading=!1,$uibModalInstance.close()},function(){$uibModalInstance.close()})},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}})}();